(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t,n){e.exports=n(455)},201:function(e,t,n){},308:function(e,t,n){e.exports=n.p+"static/media/one-token.a3314b8b.svg"},309:function(e,t,n){e.exports=n.p+"static/media/two-tokens.8a98c32b.svg"},310:function(e,t,n){e.exports=n.p+"static/media/three-tokens.0ebc35c3.svg"},311:function(e,t,n){e.exports=n.p+"static/media/four-tokens.da8b9d75.svg"},312:function(e,t,n){e.exports=n.p+"static/media/five-tokens.7240809b.svg"},313:function(e,t,n){e.exports=n.p+"static/media/six-tokens.9b88cbc0.svg"},314:function(e,t,n){e.exports=n.p+"static/media/seven-tokens.d7817d9b.svg"},315:function(e,t,n){e.exports=n.p+"static/media/eight-tokens.a52db80b.svg"},316:function(e,t,n){e.exports=n.p+"static/media/nine-tokens.e2e95f09.svg"},325:function(e,t,n){},428:function(e,t,n){},430:function(e,t,n){},434:function(e,t,n){},436:function(e,t,n){},444:function(e,t,n){},446:function(e,t,n){},448:function(e,t,n){},450:function(e,t,n){},453:function(e,t,n){},455:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(15),c=n.n(i),o=n(465),s=n(467),l=n(458),u=n(466),d=n(21),h=n(66),p=n(8),m=n(9),f=n(12),b=n(11),g=n(13),y=n(464),v=n(306),O=n(89),E=n.n(O),j=function(e,t){return{type:"REMOVE_NODE",petriNetId:e,nodeId:t}},k=function(e,t,n){return{type:"SET_LABEL",petriNetId:e,nodeId:t,label:n}},I=function(e,t){return N(e,C(t))},C=function(e){return e.match.params.id},N=function(e,t){return e.petriNetsById[t]},T=n(14),x="transition",w=n(461),S=(n(201),y.a.Header),B=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(S,{className:"toolbar",style:{backgroundColor:this.props.backgroundColor}},this.props.children)}}]),t}(a.Component),_=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){n.props.onNodeTypeChange(e.target.value)},n.handleChange=n.handleChange.bind(Object(T.a)(Object(T.a)(n))),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.activeNodeType;return r.a.createElement(B,{backgroundColor:"#008B27"},r.a.createElement(w.a.Group,{value:e,onChange:this.handleChange,buttonStyle:"solid"},r.a.createElement(w.a.Button,{value:x},"Transition"),r.a.createElement(w.a.Button,{value:"place"},"Place")))}}]),t}(a.Component),A=n(457),R=n(459),D=n(463),L=n(456),P=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Edge"),r.a.createElement(R.a,{layout:"vertical"},r.a.createElement(R.a.Item,{label:"Weight"},r.a.createElement(D.a,{id:"weight",min:1,value:this.props.weight,onChange:this.props.onWeightChange})),r.a.createElement(R.a.Item,null,r.a.createElement(L.a,{id:"delete",type:"danger",icon:"delete",block:!0,onClick:this.props.onDelete},"Delete"))))}}]),t}(a.Component),F=Object(A.a)(Object(d.b)(function(e,t){return{weight:e.petriNetsById[C(t)].edgesById[t.edgeId].weight}},function(e,t){return{onWeightChange:function(n){return e(function(e,t,n){return{type:"SET_WEIGHT",petriNetId:e,edgeId:t,weight:n}}(C(t),t.edgeId,n))},onDelete:function(){return e((n=C(t),a=t.edgeId,{type:"REMOVE_EDGE",petriNetId:n,edgeId:a}));var n,a}}})(P)),M=n(462),U=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).onChange=function(e){new RegExp("^[1-9]?[0-9]{0,3}$").test(e)&&(console.log(e),n.setState({number:e}),n.props.onNumberOfTokensChange(e))},n.handleLabelChange=n.handleLabelChange.bind(Object(T.a)(Object(T.a)(n))),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"handleLabelChange",value:function(e){this.props.onLabelChange(e.target.value)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Place"),r.a.createElement(R.a,{layout:"vertical"},r.a.createElement(R.a.Item,{label:""},r.a.createElement(M.a,{id:"label",placeholder:"Enter name",value:this.props.label,onChange:this.handleLabelChange})),r.a.createElement(R.a.Item,{label:"Initial number of tokens"},r.a.createElement(D.a,{id:"numberOfTokens",min:0,value:this.props.numberOfTokens,onChange:this.onChange})),r.a.createElement(R.a.Item,null,r.a.createElement(L.a,{id:"delete",type:"danger",icon:"delete",block:!0,onClick:this.props.onDelete},"Delete"))))}}]),t}(a.Component),G=function(e,t){return Object.values(e.edgesById).filter(function(e){return e.to===t})},H=function(e,t){return Object.values(e.edgesById).filter(function(e){return e.from===t})},V=function(e,t){return e.markings[e.markings.length-1][t]},z=function(e){return Object.values(e.nodesById).filter(function(e){return e.type===x}).filter(function(t){return!G(e,t.id).some(function(t){return t.weight>V(e,t.from)})&&!H(e,t.id).some(function(t){return!function(e,t,n){var a=e.nodesById[t];return void 0===a.capacityLimit||a.capacityLimit-V(e,t)>=n}(e,t.to,t.weight)})})},Z=Object(A.a)(Object(d.b)(function(e,t){var n=I(e,t),a=n.nodesById[t.placeId];return{label:a.label,capacityLimit:a.capacityLimit,numberOfTokens:V(n,t.placeId)}},function(e,t){return{onLabelChange:function(n){return e(k(C(t),t.placeId,n))},onCapacityLimitChange:function(n){return e(function(e,t){var n=C(e);return void 0===t||null===t||""===t?function(e,t){return{type:"REMOVE_CAPACITY_LIMIT",petriNetId:e,placeId:t}}(n,e.placeId):function(e,t,n){return{type:"SET_CAPACITY_LIMIT",petriNetId:e,placeId:t,capacityLimit:n}}(n,e.placeId,t)}(t,n))},onNumberOfTokensChange:function(n){return e(function(e,t,n){return{type:"SET_INITIAL_NUMBER_OF_TOKENS",petriNetId:e,placeId:t,numberOfTokens:n}}(C(t),t.placeId,n||0))},onDelete:function(){return e(j(C(t),t.placeId))}}})(U)),W=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).handleLabelChange=n.handleLabelChange.bind(Object(T.a)(Object(T.a)(n))),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"handleLabelChange",value:function(e){var t=e.target.value;new RegExp("^[a-zA-Z]?$").test(t)&&this.props.onLabelChange(e.target.value)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Transition"),r.a.createElement(R.a,{layout:"vertical"},r.a.createElement("p",{style:{color:"darkred"}},"Transition name should correspond to trace event"),r.a.createElement(R.a.Item,{label:""},r.a.createElement(M.a,{id:"label",placeholder:"Enter name",value:this.props.label,onChange:this.handleLabelChange})),r.a.createElement(R.a.Item,null,r.a.createElement(L.a,{id:"delete",type:"danger",icon:"delete",block:!0,onClick:this.props.onDelete},"Delete"))))}}]),t}(a.Component),K=Object(A.a)(Object(d.b)(function(e,t){return{label:I(e,t).nodesById[t.transitionId].label}},function(e,t){return{onLabelChange:function(n){return e(k(C(t),t.transitionId,n))},onDelete:function(){return e(j(C(t),t.transitionId))}}})(W)),Y=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){switch(this.props.elementType){case"EDGE":return this.renderEdgeForm();case"NODE":return this.renderNodeForm();default:return null}}},{key:"renderEdgeForm",value:function(){return r.a.createElement(F,{edgeId:this.props.element.id})}},{key:"renderNodeForm",value:function(){switch(this.props.element.type){case"place":return this.renderPlaceForm();case x:return this.renderTransitionForm();default:return null}}},{key:"renderPlaceForm",value:function(){return r.a.createElement(Z,{placeId:this.props.element.id})}},{key:"renderTransitionForm",value:function(){return r.a.createElement(K,{transitionId:this.props.element.id})}}]),t}(a.Component),$=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={display:!1},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.setState({display:!0})},0)}},{key:"render",value:function(){return!1===this.state.display?null:r.a.createElement(r.a.Fragment,null,this.props.children)}}]),t}(a.Component),q=(n(325),y.a.Content),J=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(q,{className:"graph_area"},r.a.createElement($,null,this.props.children))}}]),t}(a.Component),Q=n(134),X=n.n(Q),ee=function(){function e(){Object(p.a)(this,e);var t={primitive:!0,max:100};this._edgeCfg=X()(this._edgeCfg,t),this._nodeCfg=X()(this._nodeCfg,t)}return Object(m.a)(e,[{key:"_edgeCfg",value:function(e,t,n,a,r,i,c){return{group:"edges",data:{id:e,source:t,target:n,weight:a},selected:r,selectable:i,grabbable:c}}},{key:"edgeCfg",value:function(e){var t=e.id,n=e.source,a=e.target,r=e.weight,i=void 0===r?1:r,c=e.selected,o=void 0!==c&&c,s=e.selectable,l=void 0===s||s,u=e.grabbable,d=void 0===u||u;return this._edgeCfg(t,n,a,i,o,l,d)}},{key:"_nodeCfg",value:function(e,t,n,a,r,i,c,o,s,l){return{group:"nodes",data:{id:e,type:t,label:n,numberOfTokens:a},position:{x:r,y:i},selected:c,selectable:o,grabbable:s,classes:l}}},{key:"nodeCfg",value:function(e){var t=e.id,n=e.type,a=e.label,r=e.numberOfTokens,i=e.position,c=i.x,o=i.y,s=e.selected,l=void 0!==s&&s,u=e.selectable,d=void 0===u||u,h=e.grabbable,p=void 0===h||h,m=e.classes;return this._nodeCfg(t,n,a,r,c,o,l,d,p,m)}}]),e}(),te=n(16),ne=function(e,t){return e[t.data.id]=t,e},ae=function(){function e(t,n,a){var r=this,i=a.selectedId,c=a.highlightedIds,o=void 0===c?[]:c,s=a.locked,l=void 0!==s&&s;Object(p.a)(this,e),this.isHighlighted=function(e){return-1!==r.highlightedIds.indexOf(e)},this.isSelected=function(e){return r.selectedId===e},this.nodeCfgsById=function(){return Object.values(r.petriNet.nodesById).map(r.nodeCfg.bind(r)).reduce(ne,{})},this.nodeLabel=function(e){var t=[];return void 0!==e.label&&e.label.length>0&&t.push(e.label),void 0!==e.capacityLimit&&t.push("(max. ".concat(e.capacityLimit,")")),t.join(" ")},this.nodeNumberOfTokens=function(e){return V(r.petriNet,e.id)},this.petriNet=t,this.factory=n,this.selectedId=i,this.highlightedIds=o,this.locked=l}return Object(m.a)(e,[{key:"edgeCfg",value:function(e){return this.factory.edgeCfg({id:e.id,source:e.from,target:e.to,weight:e.weight,selected:this.isSelected(e.id),selectable:!this.locked,grabbable:!this.locked})}},{key:"edgeCfgsById",value:function(){return Object.values(this.petriNet.edgesById).map(this.edgeCfg.bind(this)).reduce(ne,{})}},{key:"map",value:function(){return Object(te.a)({},this.nodeCfgsById(),this.edgeCfgsById())}},{key:"nodeCfg",value:function(e){return this.factory.nodeCfg({id:e.id,type:e.type,label:this.nodeLabel(e),numberOfTokens:this.nodeNumberOfTokens(e),position:e.position,selected:this.isSelected(e.id),selectable:!this.locked,grabbable:!this.locked,classes:this.nodeClasses(e)})}},{key:"nodeClasses",value:function(e){var t=[e.type];return this.isHighlighted(e.id)&&t.push("highlighted"),t.join(" ")}}]),e}(),re=n(94),ie=n.n(re),ce=n(307),oe=n.n(ce),se=r.a.createContext();ie.a.use(oe.a);var le=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){n.initEdgeHandles()},n.componentDidUpdate=function(){n.initEdgeHandles()},n.edgeParams=n.edgeParams.bind(Object(T.a)(Object(T.a)(n))),n.edgeType=n.edgeType.bind(Object(T.a)(Object(T.a)(n))),n.handleComplete=n.handleComplete.bind(Object(T.a)(Object(T.a)(n))),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"edgeParams",value:function(e,t){return this.props.edgeParams(e.id(),t.id())}},{key:"edgeType",value:function(e,t){if(this.shouldAddEdge(e,t))return"flat"}},{key:"handleComplete",value:function(e,t){this.props.onAddEdge(e.id(),t.id())}},{key:"initEdgeHandles",value:function(){void 0!==this.context&&(void 0!==this.edgehandles&&this.edgehandles.destroy(),this.edgehandles=this.context.edgehandles({complete:this.handleComplete,edgeParams:this.edgeParams,edgeType:this.edgeType,snap:this.props.snap}))}},{key:"render",value:function(){return null}},{key:"shouldAddEdge",value:function(e,t){return 0!==t.length&&(!t.same(this.edgehandles.handleNode)&&this.props.shouldAddEdge(e.id(),t.id()))}}]),t}(a.PureComponent);le.contextType=se;var ue=le,de=n(58),he=n.n(de),pe=function(e,t){if(void 0!==e)return function(n){return e(t[n])}},me=function(e){var t=e.prev,n=e.current,a=e.onAdd,r=e.onRemove,i=e.onRemain,c=n.filter(function(e){return-1===t.indexOf(e)}),o=t.filter(function(e){return-1===n.indexOf(e)}),s=n.filter(function(e){return-1===c.indexOf(e)});void 0!==a&&c.forEach(function(e){return a(e)}),void 0!==r&&o.forEach(function(e){return r(e)}),void 0!==i&&s.forEach(function(e){return i(e)})},fe=function(e){var t=e.prev,n=e.current,a=e.onAdd,r=e.onRemove,i=e.onRemain;me({prev:Object.keys(t),current:Object.keys(n),onAdd:pe(a,n),onRemove:pe(r,t),onRemain:pe(i,n)})},be=n(96),ge=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.divRef,n=Object(be.a)(e,["divRef"]);return r.a.createElement("div",Object.assign({ref:t},n))}}]),t}(a.Component),ye=(n(428),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).handleClick=function(e){e.target!==n.cy?n.callCallback(n.props.onClickOnElement,n.elementType(e.target),e.target.id()):n.callCallback(n.props.onClickOnBackground,Object(te.a)({},e.position))},n.handleFree=function(e){n.hasNodeMoved(e.target)&&n.callCallback(n.props.onMove,e.target.id(),Object(te.a)({},e.target.position()))},n.handleGrab=function(e){e.target.select()},n.handleSelect=function(e){n.callCallback(n.props.onSelect,n.elementType(e.target),e.target.id())},n.handleUnselect=function(e){n.callCallback(n.props.onUnselect,n.elementType(e.target),e.target.id())},n.state={},n.cyContainerRef=r.a.createRef(),n.handleClick=n.handleClick.bind(Object(T.a)(Object(T.a)(n))),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"addElement",value:function(e){this.cy.add(he()(e))}},{key:"callCallback",value:function(e){if(void 0!==e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];e.apply(void 0,n)}}},{key:"componentDidMount",value:function(){this.initCytoscape(),this.setLoaded()}},{key:"componentDidUpdate",value:function(){this.updateCytoscape(),this.setLoaded()}},{key:"elementType",value:function(e){return"nodes"===e.group()?"NODE":"EDGE"}},{key:"findElement",value:function(e){var t=this.cy.elements("#".concat(e.data.id));if(1===t.length)return t.first();if(t.length>0)throw new Error("ambiguous id")}},{key:"hasNodeMoved",value:function(e){var t=this.loaded.elementsById[e.id()].position;return t.x!==e.position().x||t.y!==e.position().y}},{key:"initCytoscape",value:function(){var e=Object.values(this.props.elementsById||{});this.cy=ie()({container:this.cyContainerRef.current,elements:he()(e),layout:he()(this.props.layout||{}),maxZoom:this.props.maxZoom,style:he()(this.props.style||{})}),this.cy.on("free",this.handleFree),this.cy.on("grab",this.handleGrab),this.cy.on("select",this.handleSelect),this.cy.on("unselect",this.handleUnselect),this.cy.on("vclick",this.handleClick),this.setState({cy:this.cy})}},{key:"removeElement",value:function(e){var t=this.findElement(e);void 0!==t&&t.remove()}},{key:"render",value:function(){return r.a.createElement("div",{className:"graph"},r.a.createElement(ge,{className:"cytoscape_container",divRef:this.cyContainerRef}),r.a.createElement(se.Provider,{value:this.state.cy},this.props.children))}},{key:"setLoaded",value:function(){this.loaded={elementsById:this.props.elementsById,layout:this.props.layout,style:this.props.style}}},{key:"updateCytoscape",value:function(){this.updateElements(),this.updateOptions()}},{key:"updateElement",value:function(e){if(this.loaded.elementsById[e.data.id]!==e){var t=this.findElement(e);void 0!==t&&t.json(he()(e))}}},{key:"updateElements",value:function(){var e=this,t=this.loaded.elementsById,n=this.props.elementsById;t!==n&&fe({prev:t,current:n,onAdd:function(t){return e.findElement(t)?e.updateElement(t):e.addElement(t)},onRemove:function(t){return e.removeElement(t)},onRemain:function(t){return e.updateElement(t)}})}},{key:"updateOption",value:function(e){this.props[e]!==this.loaded[e]&&this.cy[e](he()(this.props[e]))}},{key:"updateOptions",value:function(){var e=this;["layout","maxZoom","style"].map(function(t){return e.updateOption(t)})}}]),t}(a.PureComponent)),ve=n(308),Oe=n.n(ve),Ee=n(309),je=n.n(Ee),ke=n(310),Ie=n.n(ke),Ce=n(311),Ne=n.n(Ce),Te=n(312),xe=n.n(Te),we=n(313),Se=n.n(we),Be=n(314),_e=n.n(Be),Ae=n(315),Re=n.n(Ae),De=n(316),Le=n.n(De),Pe='-apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',Fe={},Me=function(e){return void 0===Fe[e]&&(Fe[e]=function(e){var t='\n    <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80">\n      <text x="50%" y="50%" dy=".3em" fill="black" style=\'font-family: '.concat(Pe,"; font-size: 20px; text-anchor: middle;'>\n        ").concat(e,"\n      </text>\n    </svg>\n  ");return"data:image/svg+xml;utf8,"+encodeURIComponent(t)}(e)),Fe[e]},Ue=[Oe.a,je.a,Ie.a,Ne.a,xe.a,Se.a,_e.a,Re.a,Le.a],Ge=[{selector:"*",style:{"font-size":12,"font-family":Pe,color:"#242424"}},{selector:"node",style:{"border-color":"#404040","border-width":2,"text-valign":"bottom","text-halign":"center","text-margin-y":10,"background-color":"#BFBFBF","background-fit":"cover",label:"data(label)"}},{selector:"node.highlighted",style:{"background-color":"#1890ff"}},{selector:"node:selected",style:{"border-color":"#1890ff"}},{selector:"node.place",style:{height:80,width:80,"background-image":function(e){return function(e){var t=e.data("numberOfTokens");return 0===t?[]:t<10?Ue[t-1]:Me(t)}(e)}}},{selector:"node.transition",style:{shape:"rectangle",height:80,width:20}},{selector:"node.token",style:{height:10,width:10,"background-color":"black","border-width":0}},{selector:"edge",style:{width:2,"target-arrow-shape":"triangle","line-color":"#404040","target-arrow-color":"#404040","curve-style":"bezier",label:"data(weight)","text-margin-y":14}},{selector:"edge:selected",style:{"line-color":"#1890ff","target-arrow-color":"#1890ff"}},{selector:".eh-ghost-edge.eh-preview-active",style:{opacity:0}}],He=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).render=function(){return r.a.createElement(ye,Object.assign({style:Ge,layout:n.state.layout,elementsById:n.elementsById()},n.props),n.renderEdgeHandles(),n.props.children)},n.elementCfgFactory=new ee,n.edgeParams=n.edgeParams.bind(Object(T.a)(Object(T.a)(n))),n.shouldAddEdge=n.shouldAddEdge.bind(Object(T.a)(Object(T.a)(n))),n.state={layout:{name:"preset"}},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"edgeParams",value:function(e,t){return this.elementCfgFactory.edgeCfg({id:"".concat(e,"_").concat(t),source:e,target:t})}},{key:"elementsById",value:function(){return new ae(this.props.petriNet,this.elementCfgFactory,{selectedId:this.props.selectedId,highlightedIds:this.props.highlightedIds,locked:this.props.locked}).map()}},{key:"shouldAddEdge",value:function(e,t){if(e===t)return!1;var n=this.props.petriNet,a=n.nodesById[e],r=n.nodesById[t];return void 0!==a&&void 0!==r&&a.type!==r.type&&-1===G(n,r.id).map(function(e){return e.from}).indexOf(a.id)}},{key:"renderEdgeHandles",value:function(){if(!0!==this.props.locked)return r.a.createElement(ue,{onAddEdge:this.props.onAddEdge,shouldAddEdge:this.shouldAddEdge,snap:!0,edgeParams:this.edgeParams})}}]),t}(a.PureComponent),Ve=(n(430),y.a.Sider),ze=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={activeNodeType:x,selected:{}},n.handleAddEdge=n.handleAddEdge.bind(Object(T.a)(Object(T.a)(n))),n.handleClickOnBackground=n.handleClickOnBackground.bind(Object(T.a)(Object(T.a)(n))),n.handleNodeTypeChange=n.handleNodeTypeChange.bind(Object(T.a)(Object(T.a)(n))),n.handleSelect=n.handleSelect.bind(Object(T.a)(Object(T.a)(n))),n.handleUnselect=n.handleUnselect.bind(Object(T.a)(Object(T.a)(n))),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"getSelectedElement",value:function(){var e=this.state.selected.id;switch(this.state.selected.type){case"EDGE":return this.props.petriNet.edgesById[e];case"NODE":return this.props.petriNet.nodesById[e];default:return}}},{key:"handleAddEdge",value:function(e,t){this.props.onAddEdge(e,t),this.setState({selected:{type:"EDGE",id:"".concat(e,"_").concat(t)}})}},{key:"handleClickOnBackground",value:function(e){var t=E()();this.props.onAddNode(t,this.state.activeNodeType,e),this.setState({selected:{type:"NODE",id:t}})}},{key:"handleSelect",value:function(e,t){this.setState({selected:{type:e,id:t}})}},{key:"handleUnselect",value:function(e){e===this.state.selected.id&&this.setState({selected:{}})}},{key:"handleNodeTypeChange",value:function(e){this.setState({activeNodeType:e})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{activeNodeType:this.state.activeNodeType,onNodeTypeChange:this.handleNodeTypeChange}),r.a.createElement(y.a,null,r.a.createElement(J,null,r.a.createElement(He,{petriNet:this.props.petriNet,selectedId:this.state.selected.id,maxZoom:1,onAddEdge:this.handleAddEdge,onClickOnBackground:this.handleClickOnBackground,onMove:this.props.onMove,onSelect:this.handleSelect,onUnselect:this.handleUnselect})),this.renderSidebar()))}},{key:"renderSidebar",value:function(){var e=this.getSelectedElement();if(void 0!==e)return r.a.createElement(Ve,{className:"editor__sidebar",width:260},r.a.createElement(Y,{element:e,elementType:this.state.selected.type}))}}]),t}(a.Component),Ze=Object(v.a)(Object(d.b)(function(e,t){return{petriNet:I(e,t)}},function(e,t){return{onAddEdge:function(n,a){return e(function(e,t,n){return{type:"ADD_EDGE",petriNetId:e,edgeId:"".concat(t,"_").concat(n),from:t,to:n}}(C(t),n,a))},onAddNode:function(n,a,r){return e(function(e,t,n,a){return{type:"ADD_NODE",petriNetId:e,nodeId:t,nodeType:n,position:a}}(C(t),n,a,r))},onMove:function(n,a){return e(function(e,t,n){return{type:"MOVE_NODE",petriNetId:e,nodeId:t,position:n}}(C(t),n,a))}}})(ze)),We=n(25),Ke=n.n(We),Ye=n(32),$e=function(){function e(t){Object(p.a)(this,e),this.cytoscape=t.cy(),this.edgeElement=t}return Object(m.a)(e,[{key:"play",value:function(){var e=Object(Ye.a)(Ke.a.mark(function e(){var t;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.addToken(),e.next=3,this.animateToken(t);case 3:this.removeToken(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addToken",value:function(){return this.cytoscape.add({group:"nodes",classes:"token",position:this.edgeElement.sourceEndpoint()})}},{key:"animateToken",value:function(e){throw new Error("Not implemented")}},{key:"removeToken",value:function(e){e.remove()}}]),e}(),qe=function(e,t,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*t+a*a*n},Je=function(e,t,n,a){return{x:qe(e.x,t.x,n.x,a),y:qe(e.y,t.y,n.y,a)}},Qe=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"pointOnBezierCurve",value:function(e){return Je(this.edgeElement.sourceEndpoint(),this.edgeElement.controlPoints()[0],this.edgeElement.targetEndpoint(),e)}},{key:"animateToken",value:function(e){for(var t=0;t<29;t++){var n=1/30*(t+1);e.animate({position:this.pointOnBezierCurve(n),duration:500/30})}return e.animation({position:this.edgeElement.targetEndpoint(),duration:500/30,queue:!0}).play().promise()}}]),t}($e),Xe=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"animateToken",value:function(e){return e.animation({position:this.edgeElement.targetEndpoint(),duration:500,queue:!0}).play().promise()}}]),t}($e),et=function(e){return function(e){return void 0!==e.controlPoints()}(e)?new Qe(e):new Xe(e)},tt=function(){function e(t){Object(p.a)(this,e),this.canceled=!1,this.cytoscape=t.cy(),this.transitionElement=t}return Object(m.a)(e,[{key:"animateIncomingEdge",value:function(){var e=Object(Ye.a)(Ke.a.mark(function e(t){var n,a;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.source(),a=n.data("numberOfTokens")-t.data("weight"),n.data("numberOfTokens",a),e.next=5,this.animateTokenFlowOfEdge(t);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"animateIncomingEdges",value:function(){if(!0===this.canceled)return Promise.resolve();var e=this.transitionElement.incomers("edge").map(this.animateIncomingEdge.bind(this));return Promise.all(e)}},{key:"animateOutgoingEdge",value:function(){var e=Object(Ye.a)(Ke.a.mark(function e(t){var n,a;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.animateTokenFlowOfEdge(t);case 2:if(!0!==this.canceled){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:n=t.target(),a=n.data("numberOfTokens")+t.data("weight"),n.data("numberOfTokens",a);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"animateOutgoingEdges",value:function(){if(!0===this.canceled)return Promise.resolve();var e=this.transitionElement.outgoers("edge").map(this.animateOutgoingEdge.bind(this));return Promise.all(e)}},{key:"animateTokenFlowOfEdge",value:function(e){return et(e).play()}},{key:"cancel",value:function(){this.canceled=!0}},{key:"play",value:function(){var e=Object(Ye.a)(Ke.a.mark(function e(){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.animateIncomingEdges();case 2:return e.next=4,this.animateOutgoingEdges();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),nt=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"play",value:function(){var e=Object(Ye.a)(Ke.a.mark(function e(){var t;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context.elements("#".concat(this.props.elementId)).first(),this.animation=new this.props.animation(t),e.next=4,this.animation.play();case 4:void 0!==this.props.onEnd&&this.props.onEnd();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){this.animation.cancel()}},{key:"componentDidMount",value:function(){this.play()}},{key:"componentWillUnmount",value:function(){this.cancel()}},{key:"render",value:function(){return null}}]),t}(a.PureComponent);nt.contextType=se;var at=nt,rt=(n(434),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(B,{backgroundColor:"#008B27"},r.a.createElement(L.a,{id:"run",icon:"play-circle",onClick:this.props.onRun},"Run"),r.a.createElement(L.a,{id:"runStep",icon:"play-circle",className:"btn-margin",onClick:this.props.onRunStep},"Run step"),r.a.createElement(L.a,{id:"reset",icon:"reload",className:"btn-margin",onClick:this.props.onReset},"Reset"))}}]),t}(a.Component)),it=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).isFinished=function(){var e=n.props.petriNet.traces,t=n.state.traceIdx;return e.length<=t},n.updateState=function(){var e=n.state.traceIdx,t=n.props.petriNet.traces[e],a=n.state.pos;t.trace.length===a+1?(n.props.onReset(),t.active=!1,e+1<n.props.petriNet.traces.length&&(n.props.petriNet.traces[e+1].active=!0),n.setState({traceIdx:e+1,pos:0})):n.setState({pos:a+1})},n.onRunStep=function(){if(console.log(n.state.traceIdx,"pos: ",n.state.pos),!n.isFinished()){var e=n.props.petriNet,t=e.traces[n.state.traceIdx];t.active=!0;var a=n.state.pos,r=z(e).filter(function(e){return e.label===t.trace[a]});1===r.length&&(n.handleClickOnElement(null,r[0].id),n.updateState())}},n.onRun=Object(Ye.a)(Ke.a.mark(function e(){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isFinished()){e.next=6;break}return n.onRunStep(),e.next=4,n.wait();case 4:e.next=0;break;case 6:case"end":return e.stop()}},e,this)})),n.onReset=function(){n.setState({traceIdx:0,pos:0}),n.props.petriNet.traces[0].active=!0,n.props.onReset()},n.handleAnimationEnd=n.handleAnimationEnd.bind(Object(T.a)(Object(T.a)(n))),n.handleClickOnElement=n.handleClickOnElement.bind(Object(T.a)(Object(T.a)(n))),n.state={traceIdx:0,pos:0},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"activeTransitionIds",value:function(){return void 0===this.props.petriNet?[]:z(this.props.petriNet).map(function(e){return e.id})}},{key:"componentWillUnmount",value:function(){this.props.onReset()}},{key:"handleAnimationEnd",value:function(){this.props.onFireTransition(this.state.selected),this.setState({selected:void 0})}},{key:"handleClickOnElement",value:function(e,t){this.isTransitionActive(t)&&void 0===this.state.selected&&this.setState({selected:t})}},{key:"highlightedIds",value:function(){return this.state.selected?[]:this.activeTransitionIds()}},{key:"isTransitionActive",value:function(e){return-1!==this.activeTransitionIds().indexOf(e)}},{key:"wait",value:function(){var e=Object(Ye.a)(Ke.a.mark(function e(){var t;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){return new Promise(function(t){return setTimeout(t,e)})},e.next=3,t(1500);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(rt,{onRun:this.onRun,onRunStep:this.onRunStep,onReset:this.onReset}),r.a.createElement(J,null,r.a.createElement(He,{petriNet:this.props.petriNet,locked:!0,maxZoom:1,highlightedIds:this.highlightedIds(),onClickOnElement:this.handleClickOnElement},this.renderAnimation())))}},{key:"renderAnimation",value:function(){return void 0===this.state.selected?null:r.a.createElement(at,{elementId:this.state.selected,animation:tt,onEnd:this.handleAnimationEnd})}}]),t}(a.Component),ct=Object(v.a)(Object(d.b)(function(e,t){return{petriNet:e.petriNetsById[C(t)]}},function(e,t){return{onFireTransition:function(n){return e(function(e,t){return{type:"FIRE_TRANSITIONS",petriNetId:e,transitionId:t}}(C(t),n))},onReset:function(){return e({type:"RESET_MARKINGS",petriNetId:C(t)})}}})(it)),ot=(n(436),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).handleClickOnPlus=function(){""!==n.state.value&&(n.props.onCreate(n.state.value),n.setState({value:""}))},n.handleChange=function(e){n.setState({value:e.target.value})},n.state={value:""},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=r.a.createElement(L.a,{type:"default",icon:"plus",onClick:this.handleClickOnPlus});return r.a.createElement("div",{className:"create_box"},r.a.createElement(M.a,{placeholder:"Name",value:this.state.value,onChange:this.handleChange,suffix:e}))}}]),t}(a.Component)),st=(Object(v.a)(Object(d.b)(null,function(e,t){return{onCreate:function(n){var a=function(e){return{type:"ADD_PETRI_NET",petriNetId:E()(),name:e}}(n);e(a),t.history.push("/"+a.petriNetId)}}})(ot)),n(460)),lt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).handleSelect=n.handleSelect.bind(Object(T.a)(Object(T.a)(n))),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"handleSelect",value:function(e){this.props.onSelect(e.key)}},{key:"render",value:function(){var e=this.props.petriNets,t=this.props.selectedId;return r.a.createElement(st.a,{theme:"dark",selectedKeys:[""+t],onClick:this.handleSelect},e.map(function(e){return r.a.createElement(st.a.Item,{key:e.id},e.name)}))}}]),t}(a.Component),ut=(Object(A.a)(Object(d.b)(function(e,t){return{petriNets:function(e){return e.petriNets.map(function(t){return e.petriNetsById[t]})}(e),selectedId:t.match.params.id}},function(e,t){return{onSelect:function(e){return t.history.push("/"+e)}}})(lt)),n(30)),dt=(n(444),function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={number:"1"},n.onNumberChange=function(e){var t=e.target.value;new RegExp("^[1-9]?[0-9]{0,9}$").test(t)&&(n.setState({number:t}),n.props.onNumberChange(t))},n.onLostFocus=function(){""===n.state.number&&n.setState({number:"1"})},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.trace,n=void 0===t?"abcd":t,a=e.onDeletion;return r.a.createElement("div",null,r.a.createElement("span",null,n),r.a.createElement("div",{className:"trace-item parent"},r.a.createElement(L.a,{type:"danger",icon:"delete",className:"inline-right",onClick:a}),r.a.createElement("input",{name:"numberInput",type:"text",className:"inline-right trace-item-number form-control",placeholder:"1",required:!0,onChange:this.onNumberChange,onBlur:this.onLostFocus,value:this.state.number})))}}]),t}(r.a.Component)),ht=n(322),pt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).traceId=0,n.createTrace=function(e){return{key:n.traceId++,trace:e,number:1,active:!1}},n.state={traces:[],text:""},n.addItem=function(e){var t=Object(ut.a)(n.state.traces).concat([n.createTrace(e)]);n.setState({traces:t}),n.props.petriNet.traces=t},n.deleteItem=function(e){var t=n.state.traces,a=t.findIndex(function(t){return t.key===e}),r=Object(ut.a)(t.slice(0,a)).concat(Object(ut.a)(t.slice(a+1)));n.setState({traces:r}),n.props.petriNet.traces=r},n.changeNumber=function(e,t){var a=n.state.traces,r=a.findIndex(function(t){return t.key===e}),i=a[r];i.number=Number(t);var c=Object(ut.a)(a.slice(0,r)).concat([i],Object(ut.a)(a.slice(r+1)));n.setState({traces:c}),n.props.petriNet.traces=c},n.onLabelChange=function(e){var t=e.target.value;new RegExp("^[a-zA-Z]{0,15}$").test(t)&&n.setState({text:e.target.value})},n.onSubmit=function(e){e.preventDefault();var t=n.state.text.length;0!==t&&(t>15?ht.Notify.failure("Case trace is too long"):(n.addItem(n.state.text),n.setState({text:""})))},n.props.petriNet.traces=n.state.traces,n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.traces.map(function(t){var n=t.key,a=t.active,i=Object(be.a)(t,["key","active"]),c=a?"#008B27":"whitesmoke";return r.a.createElement("li",{key:n,className:"list-group-item",style:{background:c}},r.a.createElement(dt,Object.assign({},i,{onNumberChange:function(t){return e.changeNumber(n,t)},onDeletion:function(){return e.deleteItem(n)}})))});return r.a.createElement("div",null,r.a.createElement("h4",{style:{color:"whitesmoke",marginTop:"15px",marginBottom:"21px",marginLeft:"38px"}},"Case traces"),r.a.createElement("form",{className:"d-flex",onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",className:"form-control",style:{height:"48px"},placeholder:"Enter trace",onChange:this.onLabelChange,pattern:"[a-zA-Z]*",value:this.state.text}),r.a.createElement("button",{className:"btn btn-light",style:{height:"48px"}},"Add")),r.a.createElement("ul",{className:"list-group"},t))}}]),t}(a.Component),mt=Object(A.a)(Object(d.b)(function(e,t){return{petriNet:I(e,t)}},function(e,t){return{}})(pt)),ft=y.a.Sider,bt=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(ft,null,r.a.createElement(mt,null))}}]),t}(a.Component),gt=n(23),yt=(n(446),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).handleSelect=n.handleSelect.bind(Object(T.a)(Object(T.a)(n))),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"handleSelect",value:function(e){this.props.history.push("".concat(e.key))}},{key:"render",value:function(){return r.a.createElement(st.a,{className:"mode_menu",mode:"horizontal",onClick:this.handleSelect,selectedKeys:[this.selectedMode()],theme:"dark"},r.a.createElement(st.a.Item,{className:"mode_menu__process_model",key:"edit"},r.a.createElement(gt.a,{theme:"outlined",type:"edit"}),"Process model"),r.a.createElement(st.a.Item,{className:"mode_menu__run_algorithm",key:"simulate"},r.a.createElement(gt.a,{theme:"outlined",type:"play-circle"}),"Run algorithm"))}},{key:"selectedMode",value:function(){return this.props.match.params.mode}}]),t}(a.Component)),vt=Object(A.a)(yt),Ot=(n(448),y.a.Header),Et=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(Ot,{className:"topbar"},r.a.createElement(vt,null))}}]),t}(a.Component),jt=(n(450),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:"outer_layout"},r.a.createElement(bt,null),r.a.createElement(y.a,null,r.a.createElement(Et,null),r.a.createElement(l.a,{path:"/:id/edit",component:Ze}),r.a.createElement(l.a,{path:"/:id/simulate",component:ct}))))}}]),t}(a.Component)),kt=[],It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PETRI_NET":return Object(ut.a)(e).concat([t.petriNetId]);default:return e}},Ct=n(20),Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EDGE":return Object(te.a)({},e,Object(Ct.a)({},t.edgeId,{id:t.edgeId,from:t.from,to:t.to,weight:1}));case"SET_WEIGHT":return Object(te.a)({},e,Object(Ct.a)({},t.edgeId,Object(te.a)({},e[t.edgeId],{weight:t.weight})));case"REMOVE_EDGE":var n=Object(te.a)({},e);return delete n[t.edgeId],n;case"REMOVE_NODE":var a=Object(te.a)({},e);return Object.values(e).forEach(function(e){e.from!==t.nodeId&&e.to!==t.nodeId||delete a[e.id]}),a;default:return e}},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NODE":return Object(te.a)({},e,Object(Ct.a)({},t.nodeId,{id:t.nodeId,type:t.nodeType,position:Object(te.a)({},t.position)}));case"MOVE_NODE":return Object(te.a)({},e,Object(Ct.a)({},t.nodeId,Object(te.a)({},e[t.nodeId],{position:Object(te.a)({},t.position)})));case"REMOVE_NODE":var n=Object(te.a)({},e);return delete n[t.nodeId],n;case"SET_LABEL":return Object(te.a)({},e,Object(Ct.a)({},t.nodeId,Object(te.a)({},e[t.nodeId],{label:t.label})));case"SET_CAPACITY_LIMIT":return Object(te.a)({},e,Object(Ct.a)({},t.placeId,Object(te.a)({},e[t.placeId],{capacityLimit:t.capacityLimit})));case"REMOVE_CAPACITY_LIMIT":var a=Object(te.a)({},e);return delete a[t.placeId].capacityLimit,a;default:return e}},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{}],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NODE":return e.map(function(e){return Object(te.a)({},e,Object(Ct.a)({},t.nodeId,0))});case"REMOVE_NODE":return e.map(function(e){var n=Object(te.a)({},e);return delete n[t.nodeId],n});case"SET_CAPACITY_LIMIT":return e.map(function(e){return e[t.placeId]<=t.capacityLimit?e:Object(te.a)({},e,Object(Ct.a)({},t.placeId,t.capacityLimit))});case"SET_INITIAL_NUMBER_OF_TOKENS":var n=Object(ut.a)(e);return n[0]=Object(te.a)({},e[0],Object(Ct.a)({},t.placeId,t.numberOfTokens)),n;case"RESET_MARKINGS":return[e[0]];default:return e}},wt=function(e,t){switch(t.type){case"FIRE_TRANSITIONS":var n=Object(te.a)({},e.markings[e.markings.length-1]);return G(e,t.transitionId).forEach(function(e){return n[e.from]-=e.weight}),H(e,t.transitionId).forEach(function(e){return n[e.to]+=e.weight}),Object(te.a)({},e,{markings:Object(ut.a)(e.markings).concat([n])});default:var a=Object(te.a)({},e,{edgesById:Nt(e.edgesById,t),nodesById:Tt(e.nodesById,t),markings:xt(e.markings,t)});return a.edgesById===e.edgesById&&a.nodesById===e.nodesById&&a.markings===e.markings?e:a}},St={},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PETRI_NET":return Object(te.a)({},e,Object(Ct.a)({},t.petriNetId,{id:t.petriNetId,name:t.name,edgesById:{},nodesById:{},markings:[{}]}));default:if(void 0===t.petriNetId)return e;var n=e[t.petriNetId],a=wt(e[t.petriNetId],t);return n===a?e:Object(te.a)({},e,Object(Ct.a)({},t.petriNetId,a))}},_t=Object(h.b)({petriNets:It,petriNetsById:Bt}),At="87b6487b-5781-477e-8398-e2d8c36000be",Rt={petriNets:[At],petriNetsById:Object(Ct.a)({},At,{id:At,name:"Sample process model",edgesById:{},nodesById:{},markings:[{}],traces:[]})},Dt=(n(453),Object(h.c)(_t,Rt));c.a.render(r.a.createElement(d.a,{store:Dt},r.a.createElement(o.a,null,r.a.createElement(s.a,null,r.a.createElement(l.a,{path:"/:id/:mode(edit|simulate)",component:jt}),r.a.createElement(u.a,{from:"/:id",to:"/:id/edit"}),r.a.createElement(u.a,{to:"/".concat(Dt.getState().petriNets[0],"/edit")})))),document.getElementById("root"))}},[[190,2,1]]]);
//# sourceMappingURL=main.4b14e7e3.chunk.js.map